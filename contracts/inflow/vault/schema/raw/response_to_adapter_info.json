{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AdapterInfoResponse",
  "type": "object",
  "required": [
    "info"
  ],
  "properties": {
    "info": {
      "$ref": "#/definitions/AdapterInfo"
    }
  },
  "additionalProperties": false,
  "definitions": {
    "AdapterInfo": {
      "description": "Information about a registered adapter",
      "type": "object",
      "required": [
        "address",
        "allocation_mode",
        "deployment_tracking",
        "name"
      ],
      "properties": {
        "address": {
          "description": "Contract address of the adapter",
          "allOf": [
            {
              "$ref": "#/definitions/Addr"
            }
          ]
        },
        "allocation_mode": {
          "description": "Controls whether adapter participates in automated deposit/withdrawal allocation. When Manual, the adapter is skipped by calculate_venues_allocation. Admin operations (DepositToAdapter, WithdrawFromAdapter) work regardless of this setting.",
          "allOf": [
            {
              "$ref": "#/definitions/AllocationMode"
            }
          ]
        },
        "deployment_tracking": {
          "description": "Controls whether deposits/withdrawals to/from this adapter update Control Center's deployed amount. When Tracked, operations call AddToDeployedAmount/SubFromDeployedAmount. When NotTracked, position is queryable via DepositorPosition but not in deployed amount.",
          "allOf": [
            {
              "$ref": "#/definitions/DeploymentTracking"
            }
          ]
        },
        "description": {
          "description": "Optional description of the adapter and what protocol it integrates with",
          "type": [
            "string",
            "null"
          ]
        },
        "name": {
          "description": "Human-readable name for display purposes",
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "Addr": {
      "description": "A human readable address.\n\nIn Cosmos, this is typically bech32 encoded. But for multi-chain smart contracts no assumptions should be made other than being UTF-8 encoded and of reasonable length.\n\nThis type represents a validated address. It can be created in the following ways 1. Use `Addr::unchecked(input)` 2. Use `let checked: Addr = deps.api.addr_validate(input)?` 3. Use `let checked: Addr = deps.api.addr_humanize(canonical_addr)?` 4. Deserialize from JSON. This must only be done from JSON that was validated before such as a contract's state. `Addr` must not be used in messages sent by the user because this would result in unvalidated instances.\n\nThis type is immutable. If you really need to mutate it (Really? Are you sure?), create a mutable copy using `let mut mutable = Addr::to_string()` and operate on that `String` instance.",
      "type": "string"
    },
    "AllocationMode": {
      "description": "Controls whether an adapter participates in automated allocation",
      "oneOf": [
        {
          "description": "Adapter is included in automated deposit/withdrawal allocation via calculate_venues_allocation",
          "type": "string",
          "enum": [
            "automated"
          ]
        },
        {
          "description": "Adapter is only accessible via manual DepositToAdapter/WithdrawFromAdapter operations",
          "type": "string",
          "enum": [
            "manual"
          ]
        }
      ]
    },
    "DeploymentTracking": {
      "description": "Controls whether adapter operations update the Control Center's deployed amount\n\n# Race Condition Warnings\n\n## Automated + Tracked (DANGEROUS) Using `Tracked` with `AllocationMode::Automated` creates a race condition: 1. Automated deposits/withdrawals update deployed amount without admin knowledge 2. If a manual `SubmitDeployedAmount` call is in progress, it may overwrite with stale data 3. Result: Deployed amount becomes inaccurate\n\n**Recommendation**: Use `NotTracked` for automated adapters unless absolutely necessary.\n\n## Manual + Tracked When using `Tracked` with `AllocationMode::Manual`: - Ensure no `SubmitDeployedAmount` proposal is pending before manual operations - After manual deposit/withdraw, re-snapshot deployed amount if a proposal was in flight - Otherwise, the proposal will overwrite the auto-updated value with stale data",
      "oneOf": [
        {
          "description": "Deposits/withdrawals update Control Center's deployed amount WARNING: See race condition notes above",
          "type": "string",
          "enum": [
            "tracked"
          ]
        },
        {
          "description": "Position is queryable but not included in deployed amount RECOMMENDED for automated adapters",
          "type": "string",
          "enum": [
            "not_tracked"
          ]
        }
      ]
    }
  }
}
